name: Setup environment
description: Setup environment for the project

inputs:
    node-version:
        description: Node.js version to use
        required: true
        # active LTS version
        default: "24"

runs:
    using: composite
    steps:
        - name: Install just
          run: brew install just
          shell: zsh

        - name: Install pnpm
          uses: pnpm/action-setup@v4
          with:
              version: 10

        - name: Install Node.js
          uses: actions/setup-node@v4
          with:
              node-version: ${{ inputs.node-version }}
              cache: pnpm
              cache-dependency-path: pnpm-lock.yaml

        - name: Install Node.js dependencies
          run: just if
          shell: zsh
